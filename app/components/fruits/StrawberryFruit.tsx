import * as PIXI from "pixi.js";

export interface FruitColors {
  main: number;
  shadow: number;
  highlight: number;
}

export const STRAWBERRY_COLORS: FruitColors = {
  main: 0xE74292,
  shadow: 0xAD1457,
  highlight: 0xF48FB1
};

export function createStrawberrySprite(width: number, height: number): PIXI.Graphics {
  // Inline SVG (from your changes). We'll scale it to the requested size.
  const svgString = '<svg height="200px" width="200px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path style="fill:#6DC82A;" d="M232.998,108.632c4.306-34.603,25.364-80.123,101.229-100.475 c8.303-2.226,16.926,2.286,19.829,10.379c0.918,2.56,22.154,63.272-6.35,112.503c-16.643,28.744-46.056,47.067-87.421,54.46 c-0.965,0.172-1.938,0.258-2.907,0.258c-2.805,0-5.582-0.715-8.059-2.1c-3.303-1.846-8.296-4.638-13.684-28.385 C233.147,144.314,230.672,127.328,232.998,108.632z"></path> <path style="fill:#5EAC24;" d="M232.998,108.632c-2.327,18.696,0.149,35.683,2.635,46.639c5.389,23.748,10.381,26.538,13.684,28.385 c2.477,1.385,5.922,2.731,10.966,1.842c16.176-2.851,30.503-7.457,42.971-13.657c0.863-3.06,1.688-6.329,2.485-9.84 c3.024-13.328,6.027-34.057,3.156-57.126c-2.383-19.142-9.745-46.301-30.796-71.436C246.862,55.832,235.963,84.817,232.998,108.632z "></path> <path style="fill:#91DC5A;" d="M278.711,108.632c-4.307-34.603-25.364-80.123-101.229-100.475 c-8.303-2.226-16.926,2.286-19.829,10.379c-0.918,2.56-22.154,63.272,6.35,112.503c16.643,28.744,46.056,47.067,87.421,54.46 c0.965,0.172,1.938,0.258,2.907,0.258c2.805,0,5.582-0.715,8.059-2.1c3.303-1.846,8.296-4.638,13.684-28.385 C278.562,144.314,281.038,127.328,278.711,108.632z"></path> <path style="fill:#6DC82A;" d="M266.029,179.352c-98.648-31.781-85.982-133.616-77.707-167.998 c-3.484-1.123-7.092-2.192-10.839-3.198c-8.303-2.226-16.926,2.287-19.829,10.378c-0.918,2.56-22.154,63.272,6.35,112.503 c16.631,28.723,46.014,47.04,87.333,54.444C252.91,185.554,260.547,187.657,266.029,179.352z"></path> <path style="fill:#FF728B;" d="M435.439,251.895c0,80.841-80.402,252.5-179.584,252.5S76.271,332.737,76.271,251.895 s80.402-146.377,179.584-146.377S435.439,171.054,435.439,251.895z"></path> <g> <path style="fill:#FF3F62;" d="M145.087,251.895c0-71.248,62.456-130.597,145.177-143.681c-11.138-1.761-22.638-2.695-34.408-2.695 c-99.182,0-179.584,65.535-179.584,146.377c0,80.841,80.402,252.5,179.584,252.5c11.768,0,23.271-2.42,34.408-6.815 C207.541,464.933,145.087,323.144,145.087,251.895z"></path> <path style="fill:#FF3F62;" d="M384.539,347.719c-0.964,0-1.945-0.185-2.892-0.574c-3.883-1.599-5.737-6.043-4.138-9.926 c4.009-9.739,7.557-19.575,10.545-29.232c1.241-4.012,5.499-6.256,9.512-5.016c4.012,1.242,6.258,5.5,5.016,9.512 c-3.124,10.093-6.828,20.363-11.01,30.524C390.365,345.944,387.529,347.719,384.539,347.719z"></path> <path style="fill:#FF3F62;" d="M296.091,468.641c-2.516,0-4.978-1.247-6.427-3.529c-2.251-3.546-1.202-8.244,2.343-10.496 c20.307-12.895,40.858-35.725,59.429-66.025c2.478-4.042,4.919-8.215,7.257-12.4c2.046-3.667,6.68-4.978,10.347-2.931 c3.666,2.048,4.979,6.681,2.931,10.347c-2.437,4.364-4.983,8.714-7.568,12.931c-19.776,32.265-41.991,56.787-64.244,70.916 C298.896,468.258,297.485,468.641,296.091,468.641z"></path> <circle style="fill:#FF3F62;" cx="255.856" cy="389.322" r="19.717"></circle> <circle style="fill:#FF3F62;" cx="176.986" cy="231.601" r="19.717"></circle> <circle style="fill:#FF3F62;" cx="255.856" cy="231.601" r="19.717"></circle> <circle style="fill:#FF3F62;" cx="334.726" cy="231.601" r="19.717"></circle> <circle style="fill:#FF3F62;" cx="216.426" cy="310.685" r="19.717"></circle> <circle style="fill:#FF3F62;" cx="295.286" cy="310.685" r="19.717"></circle> </g> <path d="M408.084,158.437c-13.207-14.188-29.447-26.234-47.748-35.756c5.519-13.047,8.737-27.549,9.568-43.22 c0.223-4.194-2.996-7.774-7.189-7.997c-4.198-0.218-7.773,2.996-7.997,7.19c-0.725,13.66-3.466,26.244-8.145,37.514 c-19.051-8.179-39.889-13.785-61.573-16.455c-2.721-14.254-8.38-30.116-19.318-45.25c16.241-17.651,39.931-30.756,70.514-38.961 c4.445-1.194,9.146,1.267,10.7,5.599c0.161,0.448,3.96,11.154,6.259,26.726c0.612,4.155,4.476,7.029,8.633,6.412 c4.155-0.613,7.025-4.478,6.412-8.633c-2.474-16.76-6.532-28.368-6.988-29.638c-4.205-11.726-16.923-18.385-28.957-15.156 c-32.574,8.739-58.225,22.814-76.377,41.863C239.676,25.66,215.447,10.47,179.452,0.813c-12.033-3.226-24.751,3.43-28.957,15.157 c-0.873,2.434-20.35,58.093,1.396,107.916c-18.234,9.995-34.415,22.644-47.577,37.544c-2.78,3.147-2.483,7.953,0.665,10.733 c3.148,2.781,7.954,2.482,10.733-0.665c32.286-36.553,84.675-58.375,140.141-58.375c55.899,0,108.645,20.813,141.098,55.676 c22.366,24.027,33.052,52.573,30.902,82.553l-0.019,0.544c0,39.37-20.965,101.557-50.982,151.226 c-21.142,34.981-64.973,93.667-120.997,93.669c-55.62-0.002-99.372-57.833-120.503-92.305 c-30.31-49.448-51.478-112.195-51.478-152.589c0-4.2-3.405-7.604-7.604-7.604c-4.2,0-7.604,3.405-7.604,7.604 c0,43.601,21.588,108.117,53.72,160.537c22.792,37.184,70.439,99.564,133.469,99.566c47.055-0.001,94.648-35.874,134.013-101.011 c31.241-51.695,53.081-116.944,53.174-158.82C445.419,217.968,433.334,185.562,408.084,158.437z M165.518,117.088 c-18.883-44.113-1.487-93.804-0.706-95.987c1.554-4.333,6.259-6.791,10.701-5.601c64.265,17.24,86.663,53.229,93.637,82.799 c-4.41-0.245-8.842-0.385-13.294-0.385C223.917,97.915,192.869,104.702,165.518,117.088z"></path> <path d="M79.345,223.754c0.739,0.225,1.485,0.333,2.219,0.333c3.258,0,6.272-2.111,7.272-5.389 c2.356-7.731,5.571-15.349,9.557-22.643c2.014-3.685,0.658-8.306-3.027-10.319c-3.685-2.013-8.305-0.657-10.319,3.027 c-4.48,8.201-8.1,16.781-10.757,25.499C73.065,218.28,75.329,222.529,79.345,223.754z"></path> <path d="M255.855,204.284c-15.064,0-27.321,12.256-27.321,27.321c0,15.065,12.256,27.321,27.321,27.321 c15.064,0,27.321-12.256,27.321-27.321C283.176,216.54,270.919,204.284,255.855,204.284z M255.855,243.718 c-6.678,0-12.113-5.433-12.113-12.113c0-6.678,5.433-12.113,12.113-12.113c6.678,0,12.113,5.433,12.113,12.113 C267.968,238.284,262.533,243.718,255.855,243.718z"></path> <path d="M334.722,258.927c15.064,0,27.321-12.256,27.321-27.321c0-15.064-12.256-27.321-27.321-27.321s-27.321,12.256-27.321,27.321 C307.402,246.67,319.658,258.927,334.722,258.927z M334.722,219.493c6.678,0,12.113,5.433,12.113,12.113 c0,6.679-5.433,12.113-12.113,12.113s-12.113-5.433-12.113-12.113C322.61,224.926,328.044,219.493,334.722,219.493z"></path> <path d="M189.1,310.689c0,15.065,12.256,27.321,27.321,27.321s27.321-12.256,27.321-27.321c0-15.064-12.256-27.321-27.321-27.321 C201.355,283.367,189.1,295.623,189.1,310.689z M228.534,310.689c0,6.679-5.433,12.113-12.113,12.113 c-6.678,0-12.113-5.433-12.113-12.113c0-6.678,5.433-12.113,12.113-12.113S228.534,304.009,228.534,310.689z"></path> <path d="M255.855,361.998c-15.064,0-27.321,12.256-27.321,27.321s12.256,27.321,27.321,27.321c15.064,0,27.321-12.256,27.321-27.321 S270.919,361.998,255.855,361.998z M255.855,401.432c-6.678,0-12.113-5.433-12.113-12.113s5.433-12.113,12.113-12.113 c6.678,0,12.113,5.433,12.113,12.113S262.533,401.432,255.855,401.432z"></path> <path d="M267.968,310.689c0,15.065,12.256,27.321,27.321,27.321c15.065,0,27.321-12.256,27.321-27.321 c0-15.064-12.256-27.321-27.321-27.321S267.968,295.623,267.968,310.689z M307.402,310.689c0,6.679-5.433,12.113-12.113,12.113 c-6.678,0-12.113-5.433-12.113-12.113c0-6.678,5.433-12.113,12.113-12.113C301.968,298.576,307.402,304.009,307.402,310.689z"></path> <path d="M176.987,204.284c-15.064,0-27.321,12.256-27.321,27.321c0,15.065,12.256,27.321,27.321,27.321 c15.065,0,27.321-12.256,27.321-27.321C204.308,216.54,192.052,204.284,176.987,204.284z M176.987,243.718 c-6.678,0-12.113-5.433-12.113-12.113c0-6.678,5.433-12.113,12.113-12.113c6.679,0,12.113,5.433,12.113,12.113 C189.1,238.284,183.666,243.718,176.987,243.718z"></path> </g></svg>';
  // Build graphics from SVG
      const context = new PIXI.GraphicsContext().svg(svgString);
      const graphics = new PIXI.Graphics(context);
      // Scale based on the actual vector bounds rather than viewBox, as some SVGs
      // contain very large coordinates that don't match the declared viewBox.
      const bounds = graphics.getLocalBounds();
      const bx = bounds?.x ?? 0;
      const by = bounds?.y ?? 0;
      const bw = Math.max(1, bounds?.width ?? 48);
      const bh = Math.max(1, bounds?.height ?? 48);
  
      // Center the pivot to draw around (0,0)
      graphics.pivot.set(bx + bw / 2, by + bh / 2);
  
      // Apply a padding to harmonize with other fruits and avoid edge clipping
      const padding = 0.6; // shrink slightly more
      const s = padding * Math.min(width / bw, height / bh);
      graphics.scale.set(s);
  return graphics;
}
